# rpg

## Game concepts

The game is time bound and takes place in the 1980's. Each new game starts at
the same date (see _time-util.js_). The clock increments at a higher speed than
in actual life (once more, see _time-util.js_). However, to make things easier
think of time related operations (such as _Effects_) in _game time_, e.g. _how the
Character would experience it_. The unit used is the _millisecond_.

The game is also unique in that upon creation, the world is generated uniquely
to the game's hash. As such, no two games are the same. The generation is however
_deterministic_, as such loading a saved game restores the world how you left.

## Project setup
```
npm install
```

### Development

Create a local development server with hot module reload:

```
npm run dev
```

Creating a production build (build output will reside in _./dist/_-folder):

```
npm run build
```

Running unit tests:

```
npm run test
```
## TODO

Keep track of important dates (Christmas, New Year)

World must become lighter when morning comes

Rename World to Overground (see Factories and renderers)
Serialize Effects into saved game (subtract elapsed and set current value as start)

Time should be able to speed up (when sleeping for instance)

When drunk shuffle letters in sentences randomly =D

Characters should have renderers for their features (eyes, hair, lips, jewelry, body type, skin tone, sex) all
superimposed over same position

Movement should be pointer based with path finding, no diagonal movement

Maps should only show visited tiles, map should move to own view

ShopFactory > shop items are available by player level, lower levels don't get higher items

Add a timer to GameModel that runs periodic updates:

 every now and then re-generate all enemies (if none is currently in the range of the player 20 tiles)
 if enemies share their new position with another enemy, halt movement

Caves :

 feature a lot of enemies
 always have a goody at the bottom (likely a shop item preserved for higher levels)
 have doors that lead to lower levels (and back up when traversed in reverse)
 caves are generated by creating an MD5 hash from their coordinate ;)

 Save game should thus store :

  world x, world y (world must be tiled)
  world level (indicating whether user is inside a cave, don't restore x- y inside a cave, just the level)

Running should be possible, but ensure enemy is not removed from map (ensure its offset is outside of player!)
